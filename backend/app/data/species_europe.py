"""
European bird species database seed data.

Contains common birds found in Central Europe (Germany, Austria, Switzerland).
Data includes scientific names, common names (EN/DE), and taxonomic info.
"""

EUROPEAN_SPECIES = [
    # Thrushes (Turdidae)
    {
        "species_code": "turdus_merula",
        "scientific_name": "Turdus merula",
        "common_name_en": "Eurasian Blackbird",
        "common_name_de": "Amsel",
        "family": "Turdidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Turdus merula_Eurasian Blackbird",
    },
    {
        "species_code": "turdus_philomelos",
        "scientific_name": "Turdus philomelos",
        "common_name_en": "Song Thrush",
        "common_name_de": "Singdrossel",
        "family": "Turdidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Turdus philomelos_Song Thrush",
    },
    {
        "species_code": "turdus_viscivorus",
        "scientific_name": "Turdus viscivorus",
        "common_name_en": "Mistle Thrush",
        "common_name_de": "Misteldrossel",
        "family": "Turdidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Turdus viscivorus_Mistle Thrush",
    },
    {
        "species_code": "turdus_pilaris",
        "scientific_name": "Turdus pilaris",
        "common_name_en": "Fieldfare",
        "common_name_de": "Wacholderdrossel",
        "family": "Turdidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Turdus pilaris_Fieldfare",
    },
    {
        "species_code": "turdus_iliacus",
        "scientific_name": "Turdus iliacus",
        "common_name_en": "Redwing",
        "common_name_de": "Rotdrossel",
        "family": "Turdidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Turdus iliacus_Redwing",
    },
    {
        "species_code": "erithacus_rubecula",
        "scientific_name": "Erithacus rubecula",
        "common_name_en": "European Robin",
        "common_name_de": "Rotkehlchen",
        "family": "Muscicapidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Erithacus rubecula_European Robin",
    },

    # Tits (Paridae)
    {
        "species_code": "parus_major",
        "scientific_name": "Parus major",
        "common_name_en": "Great Tit",
        "common_name_de": "Kohlmeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Parus major_Great Tit",
    },
    {
        "species_code": "cyanistes_caeruleus",
        "scientific_name": "Cyanistes caeruleus",
        "common_name_en": "Eurasian Blue Tit",
        "common_name_de": "Blaumeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Cyanistes caeruleus_Eurasian Blue Tit",
    },
    {
        "species_code": "periparus_ater",
        "scientific_name": "Periparus ater",
        "common_name_en": "Coal Tit",
        "common_name_de": "Tannenmeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Periparus ater_Coal Tit",
    },
    {
        "species_code": "lophophanes_cristatus",
        "scientific_name": "Lophophanes cristatus",
        "common_name_en": "Crested Tit",
        "common_name_de": "Haubenmeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Lophophanes cristatus_Crested Tit",
    },
    {
        "species_code": "poecile_palustris",
        "scientific_name": "Poecile palustris",
        "common_name_en": "Marsh Tit",
        "common_name_de": "Sumpfmeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Poecile palustris_Marsh Tit",
    },
    {
        "species_code": "poecile_montanus",
        "scientific_name": "Poecile montanus",
        "common_name_en": "Willow Tit",
        "common_name_de": "Weidenmeise",
        "family": "Paridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Poecile montanus_Willow Tit",
    },
    {
        "species_code": "aegithalos_caudatus",
        "scientific_name": "Aegithalos caudatus",
        "common_name_en": "Long-tailed Tit",
        "common_name_de": "Schwanzmeise",
        "family": "Aegithalidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Aegithalos caudatus_Long-tailed Tit",
    },

    # Finches (Fringillidae)
    {
        "species_code": "fringilla_coelebs",
        "scientific_name": "Fringilla coelebs",
        "common_name_en": "Common Chaffinch",
        "common_name_de": "Buchfink",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Fringilla coelebs_Common Chaffinch",
    },
    {
        "species_code": "fringilla_montifringilla",
        "scientific_name": "Fringilla montifringilla",
        "common_name_en": "Brambling",
        "common_name_de": "Bergfink",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Fringilla montifringilla_Brambling",
    },
    {
        "species_code": "carduelis_carduelis",
        "scientific_name": "Carduelis carduelis",
        "common_name_en": "European Goldfinch",
        "common_name_de": "Stieglitz",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Carduelis carduelis_European Goldfinch",
    },
    {
        "species_code": "chloris_chloris",
        "scientific_name": "Chloris chloris",
        "common_name_en": "European Greenfinch",
        "common_name_de": "Grünfink",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Chloris chloris_European Greenfinch",
    },
    {
        "species_code": "spinus_spinus",
        "scientific_name": "Spinus spinus",
        "common_name_en": "Eurasian Siskin",
        "common_name_de": "Erlenzeisig",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Spinus spinus_Eurasian Siskin",
    },
    {
        "species_code": "linaria_cannabina",
        "scientific_name": "Linaria cannabina",
        "common_name_en": "Common Linnet",
        "common_name_de": "Bluthänfling",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Linaria cannabina_Common Linnet",
    },
    {
        "species_code": "pyrrhula_pyrrhula",
        "scientific_name": "Pyrrhula pyrrhula",
        "common_name_en": "Eurasian Bullfinch",
        "common_name_de": "Gimpel",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Pyrrhula pyrrhula_Eurasian Bullfinch",
    },
    {
        "species_code": "coccothraustes_coccothraustes",
        "scientific_name": "Coccothraustes coccothraustes",
        "common_name_en": "Hawfinch",
        "common_name_de": "Kernbeißer",
        "family": "Fringillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Coccothraustes coccothraustes_Hawfinch",
    },

    # Sparrows (Passeridae)
    {
        "species_code": "passer_domesticus",
        "scientific_name": "Passer domesticus",
        "common_name_en": "House Sparrow",
        "common_name_de": "Haussperling",
        "family": "Passeridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Passer domesticus_House Sparrow",
    },
    {
        "species_code": "passer_montanus",
        "scientific_name": "Passer montanus",
        "common_name_en": "Eurasian Tree Sparrow",
        "common_name_de": "Feldsperling",
        "family": "Passeridae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Passer montanus_Eurasian Tree Sparrow",
    },

    # Warblers (Sylviidae/Phylloscopidae)
    {
        "species_code": "sylvia_atricapilla",
        "scientific_name": "Sylvia atricapilla",
        "common_name_en": "Eurasian Blackcap",
        "common_name_de": "Mönchsgrasmücke",
        "family": "Sylviidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Sylvia atricapilla_Eurasian Blackcap",
    },
    {
        "species_code": "sylvia_borin",
        "scientific_name": "Sylvia borin",
        "common_name_en": "Garden Warbler",
        "common_name_de": "Gartengrasmücke",
        "family": "Sylviidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Sylvia borin_Garden Warbler",
    },
    {
        "species_code": "sylvia_communis",
        "scientific_name": "Sylvia communis",
        "common_name_en": "Common Whitethroat",
        "common_name_de": "Dorngrasmücke",
        "family": "Sylviidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Sylvia communis_Common Whitethroat",
    },
    {
        "species_code": "phylloscopus_collybita",
        "scientific_name": "Phylloscopus collybita",
        "common_name_en": "Common Chiffchaff",
        "common_name_de": "Zilpzalp",
        "family": "Phylloscopidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Phylloscopus collybita_Common Chiffchaff",
    },
    {
        "species_code": "phylloscopus_trochilus",
        "scientific_name": "Phylloscopus trochilus",
        "common_name_en": "Willow Warbler",
        "common_name_de": "Fitis",
        "family": "Phylloscopidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Phylloscopus trochilus_Willow Warbler",
    },
    {
        "species_code": "phylloscopus_sibilatrix",
        "scientific_name": "Phylloscopus sibilatrix",
        "common_name_en": "Wood Warbler",
        "common_name_de": "Waldlaubsänger",
        "family": "Phylloscopidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Phylloscopus sibilatrix_Wood Warbler",
    },

    # Starlings (Sturnidae)
    {
        "species_code": "sturnus_vulgaris",
        "scientific_name": "Sturnus vulgaris",
        "common_name_en": "Common Starling",
        "common_name_de": "Star",
        "family": "Sturnidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Sturnus vulgaris_Common Starling",
    },

    # Crows (Corvidae)
    {
        "species_code": "corvus_corone",
        "scientific_name": "Corvus corone",
        "common_name_en": "Carrion Crow",
        "common_name_de": "Rabenkrähe",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Corvus corone_Carrion Crow",
    },
    {
        "species_code": "corvus_cornix",
        "scientific_name": "Corvus cornix",
        "common_name_en": "Hooded Crow",
        "common_name_de": "Nebelkrähe",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Corvus cornix_Hooded Crow",
    },
    {
        "species_code": "corvus_corax",
        "scientific_name": "Corvus corax",
        "common_name_en": "Common Raven",
        "common_name_de": "Kolkrabe",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Corvus corax_Common Raven",
    },
    {
        "species_code": "corvus_frugilegus",
        "scientific_name": "Corvus frugilegus",
        "common_name_en": "Rook",
        "common_name_de": "Saatkrähe",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Corvus frugilegus_Rook",
    },
    {
        "species_code": "corvus_monedula",
        "scientific_name": "Corvus monedula",
        "common_name_en": "Eurasian Jackdaw",
        "common_name_de": "Dohle",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Corvus monedula_Eurasian Jackdaw",
    },
    {
        "species_code": "pica_pica",
        "scientific_name": "Pica pica",
        "common_name_en": "Eurasian Magpie",
        "common_name_de": "Elster",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Pica pica_Eurasian Magpie",
    },
    {
        "species_code": "garrulus_glandarius",
        "scientific_name": "Garrulus glandarius",
        "common_name_en": "Eurasian Jay",
        "common_name_de": "Eichelhäher",
        "family": "Corvidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Garrulus glandarius_Eurasian Jay",
    },

    # Pigeons (Columbidae)
    {
        "species_code": "columba_palumbus",
        "scientific_name": "Columba palumbus",
        "common_name_en": "Common Wood Pigeon",
        "common_name_de": "Ringeltaube",
        "family": "Columbidae",
        "order_name": "Columbiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Columba palumbus_Common Wood Pigeon",
    },
    {
        "species_code": "columba_livia",
        "scientific_name": "Columba livia",
        "common_name_en": "Rock Dove",
        "common_name_de": "Felsentaube",
        "family": "Columbidae",
        "order_name": "Columbiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Columba livia_Rock Dove",
    },
    {
        "species_code": "streptopelia_decaocto",
        "scientific_name": "Streptopelia decaocto",
        "common_name_en": "Eurasian Collared Dove",
        "common_name_de": "Türkentaube",
        "family": "Columbidae",
        "order_name": "Columbiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Streptopelia decaocto_Eurasian Collared Dove",
    },
    {
        "species_code": "streptopelia_turtur",
        "scientific_name": "Streptopelia turtur",
        "common_name_en": "European Turtle Dove",
        "common_name_de": "Turteltaube",
        "family": "Columbidae",
        "order_name": "Columbiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Streptopelia turtur_European Turtle Dove",
    },

    # Woodpeckers (Picidae)
    {
        "species_code": "dendrocopos_major",
        "scientific_name": "Dendrocopos major",
        "common_name_en": "Great Spotted Woodpecker",
        "common_name_de": "Buntspecht",
        "family": "Picidae",
        "order_name": "Piciformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Dendrocopos major_Great Spotted Woodpecker",
    },
    {
        "species_code": "dryobates_minor",
        "scientific_name": "Dryobates minor",
        "common_name_en": "Lesser Spotted Woodpecker",
        "common_name_de": "Kleinspecht",
        "family": "Picidae",
        "order_name": "Piciformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Dryobates minor_Lesser Spotted Woodpecker",
    },
    {
        "species_code": "dryocopus_martius",
        "scientific_name": "Dryocopus martius",
        "common_name_en": "Black Woodpecker",
        "common_name_de": "Schwarzspecht",
        "family": "Picidae",
        "order_name": "Piciformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Dryocopus martius_Black Woodpecker",
    },
    {
        "species_code": "picus_viridis",
        "scientific_name": "Picus viridis",
        "common_name_en": "European Green Woodpecker",
        "common_name_de": "Grünspecht",
        "family": "Picidae",
        "order_name": "Piciformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Picus viridis_European Green Woodpecker",
    },

    # Nuthatches & Treecreepers
    {
        "species_code": "sitta_europaea",
        "scientific_name": "Sitta europaea",
        "common_name_en": "Eurasian Nuthatch",
        "common_name_de": "Kleiber",
        "family": "Sittidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Sitta europaea_Eurasian Nuthatch",
    },
    {
        "species_code": "certhia_familiaris",
        "scientific_name": "Certhia familiaris",
        "common_name_en": "Eurasian Treecreeper",
        "common_name_de": "Waldbaumläufer",
        "family": "Certhiidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Certhia familiaris_Eurasian Treecreeper",
    },
    {
        "species_code": "certhia_brachydactyla",
        "scientific_name": "Certhia brachydactyla",
        "common_name_en": "Short-toed Treecreeper",
        "common_name_de": "Gartenbaumläufer",
        "family": "Certhiidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Certhia brachydactyla_Short-toed Treecreeper",
    },

    # Wrens
    {
        "species_code": "troglodytes_troglodytes",
        "scientific_name": "Troglodytes troglodytes",
        "common_name_en": "Eurasian Wren",
        "common_name_de": "Zaunkönig",
        "family": "Troglodytidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Troglodytes troglodytes_Eurasian Wren",
    },

    # Wagtails (Motacillidae)
    {
        "species_code": "motacilla_alba",
        "scientific_name": "Motacilla alba",
        "common_name_en": "White Wagtail",
        "common_name_de": "Bachstelze",
        "family": "Motacillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Motacilla alba_White Wagtail",
    },
    {
        "species_code": "motacilla_cinerea",
        "scientific_name": "Motacilla cinerea",
        "common_name_en": "Grey Wagtail",
        "common_name_de": "Gebirgsstelze",
        "family": "Motacillidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Motacilla cinerea_Grey Wagtail",
    },

    # Owls (Strigidae)
    {
        "species_code": "strix_aluco",
        "scientific_name": "Strix aluco",
        "common_name_en": "Tawny Owl",
        "common_name_de": "Waldkauz",
        "family": "Strigidae",
        "order_name": "Strigiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Strix aluco_Tawny Owl",
    },
    {
        "species_code": "athene_noctua",
        "scientific_name": "Athene noctua",
        "common_name_en": "Little Owl",
        "common_name_de": "Steinkauz",
        "family": "Strigidae",
        "order_name": "Strigiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Athene noctua_Little Owl",
    },
    {
        "species_code": "bubo_bubo",
        "scientific_name": "Bubo bubo",
        "common_name_en": "Eurasian Eagle-Owl",
        "common_name_de": "Uhu",
        "family": "Strigidae",
        "order_name": "Strigiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Bubo bubo_Eurasian Eagle-Owl",
    },
    {
        "species_code": "asio_otus",
        "scientific_name": "Asio otus",
        "common_name_en": "Long-eared Owl",
        "common_name_de": "Waldohreule",
        "family": "Strigidae",
        "order_name": "Strigiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Asio otus_Long-eared Owl",
    },

    # Cuckoo
    {
        "species_code": "cuculus_canorus",
        "scientific_name": "Cuculus canorus",
        "common_name_en": "Common Cuckoo",
        "common_name_de": "Kuckuck",
        "family": "Cuculidae",
        "order_name": "Cuculiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Cuculus canorus_Common Cuckoo",
    },

    # Nightingale
    {
        "species_code": "luscinia_megarhynchos",
        "scientific_name": "Luscinia megarhynchos",
        "common_name_en": "Common Nightingale",
        "common_name_de": "Nachtigall",
        "family": "Muscicapidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Luscinia megarhynchos_Common Nightingale",
    },

    # Kingfisher
    {
        "species_code": "alcedo_atthis",
        "scientific_name": "Alcedo atthis",
        "common_name_en": "Common Kingfisher",
        "common_name_de": "Eisvogel",
        "family": "Alcedinidae",
        "order_name": "Coraciiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Alcedo atthis_Common Kingfisher",
    },

    # Swallows & Swifts
    {
        "species_code": "hirundo_rustica",
        "scientific_name": "Hirundo rustica",
        "common_name_en": "Barn Swallow",
        "common_name_de": "Rauchschwalbe",
        "family": "Hirundinidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Hirundo rustica_Barn Swallow",
    },
    {
        "species_code": "delichon_urbicum",
        "scientific_name": "Delichon urbicum",
        "common_name_en": "Common House Martin",
        "common_name_de": "Mehlschwalbe",
        "family": "Hirundinidae",
        "order_name": "Passeriformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Delichon urbicum_Common House Martin",
    },
    {
        "species_code": "apus_apus",
        "scientific_name": "Apus apus",
        "common_name_en": "Common Swift",
        "common_name_de": "Mauersegler",
        "family": "Apodidae",
        "order_name": "Apodiformes",
        "native_to_europe": True,
        "native_to_germany": True,
        "birdnet_label": "Apus apus_Common Swift",
    },
]


def get_species_by_code(code: str) -> dict | None:
    """Get species data by species code."""
    for species in EUROPEAN_SPECIES:
        if species["species_code"] == code:
            return species
    return None


def get_species_by_birdnet_label(label: str) -> dict | None:
    """Get species data by BirdNET label."""
    for species in EUROPEAN_SPECIES:
        if species.get("birdnet_label") == label:
            return species
    # Try partial match
    for species in EUROPEAN_SPECIES:
        if species["scientific_name"] in label or species["common_name_en"] in label:
            return species
    return None


def search_species(query: str) -> list:
    """Search species by name (scientific, English, or German)."""
    query = query.lower()
    results = []
    for species in EUROPEAN_SPECIES:
        if (
            query in species["scientific_name"].lower() or
            query in species["common_name_en"].lower() or
            query in species.get("common_name_de", "").lower()
        ):
            results.append(species)
    return results
